defaults:
  - /prompt_refiner/default

prompt_refiner:
  name: prompt_refiner
  enabled: true
  save_prompt: true
  skip_if_completed: false
  strategy: feedback_injection
  model:
    name: ollama/qwen3
    api_base: http://localhost:11434/api/generate
    api_key: null

  # Which agent and prompt to refine
  target_agent: generation
  prompt_key: out_of_the_box.txt

  # Tuning behavior
  mode: dspy_fewshot
  max_examples: 5
  improvement_threshold: 0.8
  metric: exact_match

  # Where to source refinement data from
  data_source:
    - ranked_hypotheses
    - reflection_reviews
    - meta_review_feedback

  preferences:
    - goal_consistency
    - biological_plausibility
    - experimental_validity
    - novelty
    - simplicity